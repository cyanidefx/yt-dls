<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Settings - YT-DL Studio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="overflow-x-hidden">

    <canvas id="bg-canvas"></canvas>
    
    <nav id="sidebar" class="sidebar card">
        <div>
            <a href="index.html" class="sidebar-link mb-4">
                <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3" />
                </svg>
                <span class="text-xl font-semibold">YT-DL Studio</span>
            </a>
            
            <a href="ffmpeg.html" class="sidebar-link">
                <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9.75 4.5h13.5a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-13.5a2.25 2.25 0 00-2.25 2.25v9a2.25 2.25 0 002.25 2.25z" />
                </svg>
                <span>FFmpeg GUI</span>
            </a>
        </div>
        
        <div class="space-y-2">
            <a href="settings.html" class="sidebar-link">
                <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 011.37.49l1.296 2.247a1.125 1.125 0 01-.26 1.431l-1.003.827c-.293.24-.438.613-.438.995s.145.755.438.995l1.003.827c.447.368.623.98.26 1.431l-1.296 2.247a1.125 1.125 0 01-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.075.124a6.57 6.57 0 01-.22.127c-.331.183-.581.495-.645.87l-.213 1.281c-.09.543-.56.94-1.11.94h-2.593c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 01-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 01-1.37-.49l-1.296-2.247a1.125 1.125 0 01.26-1.431l1.004-.827c.292-.24.437-.613.437-.995s-.145-.755-.437-.995l-1.004-.827a1.125 1.125 0 01-.26-1.431l1.296-2.247a1.125 1.125 0 011.37-.49l1.217.456c.355.133.75.072 1.075-.124.072-.044.146-.087.22-.127.332-.183.582-.495.645-.87l.213-1.281z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                <span>Settings</span>
            </a>
            <a href="donate.html" class="sidebar-link">
                <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
                </svg>
                <span>Donate</span>
            </a>
            <a href="about.html" class="sidebar-link">
                <svg class="sidebar-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z" /></svg>
                <span>About</span>
            </a>
        </div>
        
        <button id="sidebar-collapse-btn" class="btn p-0">
             <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" /></svg>
        </button>
    </nav>

    
    <main class="relative flex-grow p-4 sm:p-6 lg:p-8 pl-24 transition-all duration-300">
        <div class="absolute top-6 right-6 z-10">
            <button id="theme-toggle" class="p-3 rounded-full transition-colors duration-300 shadow-lg">
                
                <!-- Moon icon - shown in light theme (dark mode toggle) -->
                <svg id="theme-icon-dark" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="display: none;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
                </svg>
    
                <!-- Sun icon - shown in dark theme (light mode toggle) -->
                <svg id="theme-icon-light" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" style="display: none;">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
                </svg>
            </button>
        </div>
    
        <div class="max-w-6xl mx-auto">
            <h1 class="text-3xl font-bold mb-6">Advanced Settings</h1>
            <p class="mb-8 text-secondary-light dark:text-secondary-dark">
                Configure advanced yt-dlp options. These settings will be applied to all downloads. Settings are saved automatically.
            </p>

            <form id="settings-form" class="space-y-10">

                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">Network Options</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="proxy" class="font-medium">Proxy URL</label>
                            <input type="text" id="proxy" name="proxy" class="input-form mt-1" placeholder="socks5://user:pass@127.0.0.1:1080">
                            <p class="setting-description">Use the specified HTTP/HTTPS/SOCKS proxy.</p>
                        </div>
                        <div class="setting-item">
                            <label for="socket-timeout" class="font-medium">Socket Timeout</label>
                            <input type="number" id="socket-timeout" name="socket-timeout" class="input-form mt-1" placeholder="30">
                            <p class="setting-description">Time to wait before giving up, in seconds.</p>
                        </div>
                        <div class="setting-item">
                            <label for="source-address" class="font-medium">Source Address</label>
                            <input type="text" id="source-address" name="source-address" class="input-form mt-1" placeholder="e.g., 192.168.1.10">
                            <p class="setting-description">Client-side IP address to bind to.</p>
                        </div>
                        <div class="setting-item">
                            <label for="impersonate" class="font-medium">Impersonate Client</label>
                            <div class="flex gap-2">
                                <select id="impersonate" name="impersonate" class="input-form mt-1 flex-grow">
                                    <option value="">None</option>
                                </select>
                                <button type="button" id="list-impersonate-btn" class="btn btn-primary p-2.5 mt-1" title="Load Targets">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5V4M4 15h5v5H4M14 4h5v5h-5M14 15h5v5h-5M" /></svg>
                                </button>
                            </div>
                            <p class="setting-description">Client to impersonate for requests (e.g., chrome-110).</p>
                        </div>
                        <div class="setting-item col-span-1 md:col-span-2">
                             <div class="flex items-center space-x-8">
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" id="force-ipv4" name="force-ipv4" class="checkbox-style"> Force IPv4</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" id="force-ipv6" name="force-ipv6" class="checkbox-style"> Force IPv6</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" id="enable-file-urls" name="enable-file-urls" class="checkbox-style"> Enable file:// URLs</label>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">Geo-restriction</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="geo-verification-proxy" class="font-medium">Geo-Verification Proxy</label>
                            <input type="text" id="geo-verification-proxy" name="geo-verification-proxy" class="input-form mt-1" placeholder="Proxy URL">
                            <p class="setting-description">Proxy to verify IP for geo-restricted sites.</p>
                        </div>
                        <div class="setting-item">
                            <label for="xff" class="font-medium">X-Forwarded-For</label>
                            <input type="text" id="xff" name="xff" class="input-form mt-1" placeholder="e.g., US or 1.2.3.0/24">
                            <p class="setting-description">Fake X-Forwarded-For header value.</p>
                        </div>
                    </div>
                </section>
                
                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">Authentication</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="username" class="font-medium">Username</label>
                            <input type="text" id="username" name="username" class="input-form mt-1">
                        </div>
                        <div class="setting-item">
                            <label for="password" class="font-medium">Password</label>
                            <input type="password" id="password" name="password" class="input-form mt-1">
                        </div>
                        <div class="setting-item">
                            <label for="twofactor" class="font-medium">Two-Factor Code</label>
                            <input type="text" id="twofactor" name="twofactor" class="input-form mt-1">
                        </div>
                        <div class="setting-item">
                            <label for="video-password" class="font-medium">Video Password</label>
                            <input type="password" id="video-password" name="video-password" class="input-form mt-1">
                        </div>
                        <div class="setting-item">
                            <label for="netrc-location" class="font-medium">.netrc Location</label>
                            <input type="text" id="netrc-location" name="netrc-location" class="input-form mt-1" placeholder="~/.netrc">
                             <label class="flex items-center gap-2 mt-2 cursor-pointer"><input type="checkbox" id="netrc" name="netrc" class="checkbox-style"> Use .netrc</label>
                        </div>
                        <div class="setting-item">
                            <label for="netrc-cmd" class="font-medium">.netrc Command</label>
                            <input type="text" id="netrc-cmd" name="netrc-cmd" class="input-form mt-1">
                            <p class="setting-description">Command to get credentials.</p>
                        </div>
                         <div class="setting-item">
                            <label for="ap-mso" class="font-medium">Adobe Pass MSO</label>
                            <div class="flex gap-2">
                                <select id="ap-mso" name="ap-mso" class="input-form mt-1 flex-grow">
                                     <option value="">None</option>
                                </select>
                                <button type="button" id="list-mso-btn" class="btn btn-primary p-2.5 mt-1" title="Load MSOs">
                                     <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h5V4M4 15h5v5H4M14 4h5v5h-5M14 15h5v5h-5M" /></svg>
                                </button>
                            </div>
                        </div>
                        <div class="setting-item">
                            <label for="ap-username" class="font-medium">AP Username</label>
                            <input type="text" id="ap-username" name="ap-username" class="input-form mt-1">
                        </div>
                         <div class="setting-item">
                            <label for="ap-password" class="font-medium">AP Password</label>
                            <input type="password" id="ap-password" name="ap-password" class="input-form mt-1">
                        </div>
                        <div class="setting-item">
                            <label for="client-certificate" class="font-medium">Client Certificate (.pem)</label>
                            <input type="text" id="client-certificate" name="client-certificate" class="input-form mt-1" placeholder="/path/to/cert.pem">
                        </div>
                        <div class="setting-item">
                            <label for="client-certificate-key" class="font-medium">Client Certificate Key</label>
                            <input type="text" id="client-certificate-key" name="client-certificate-key" class="input-form mt-1" placeholder="/path/to/key.pem">
                        </div>
                        <div class="setting-item">
                            <label for="client-certificate-password" class="font-medium">Client Certificate Password</label>
                            <input type="password" id="client-certificate-password" name="client-certificate-password" class="input-form mt-1">
                        </div>
                    </div>
                </section>

                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">File &amp; Execution</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="ffmpeg-location" class="font-medium">FFmpeg Location</label>
                            <input type="text" id="ffmpeg-location" name="ffmpeg-location" class="input-form mt-1" placeholder="/usr/bin/ffmpeg">
                            <p class="setting-description">Path to the ffmpeg binary or its containing directory.</p>
                        </div>
                        <div class="setting-item col-span-full">
                            <label for="exec" class="font-medium">Execute Command</label>
                            <input type="text" id="exec" name="exec" class="input-form mt-1" placeholder="after_move:mv {} /videos/">
                            <p class="setting-description">Execute a command after a download stage. See yt-dlp docs for syntax.</p>
                        </div>
                         <div class="setting-item">
                             <label class="flex items-center gap-2 cursor-pointer pt-6"><input type="checkbox" id="no-exec" name="no-exec" class="checkbox-style"> Disable --exec</label>
                        </div>
                    </div>
                </section>

                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">SponsorBlock Options</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="sponsorblock-mark" class="font-medium">Mark Categories</label>
                            <input type="text" id="sponsorblock-mark" name="sponsorblock-mark" class="input-form mt-1" placeholder="all,-preview">
                            <p class="setting-description">Comma-separated categories to create chapters for.</p>
                        </div>
                        <div class="setting-item">
                            <label for="sponsorblock-remove" class="font-medium">Remove Categories</label>
                            <input type="text" id="sponsorblock-remove" name="sponsorblock-remove" class="input-form mt-1" placeholder="sponsor,selfpromo">
                            <p class="setting-description">Comma-separated categories to remove from video.</p>
                        </div>
                        <div class="setting-item">
                            <label for="sponsorblock-chapter-title" class="font-medium">Chapter Title Template</label>
                            <input type="text" id="sponsorblock-chapter-title" name="sponsorblock-chapter-title" class="input-form mt-1" placeholder="[SponsorBlock]: %(category_names)l">
                        </div>
                        <div class="setting-item">
                            <label for="sponsorblock-api" class="font-medium">SponsorBlock API URL</label>
                            <input type="text" id="sponsorblock-api" name="sponsorblock-api" class="input-form mt-1" placeholder="https://sponsor.ajay.app">
                        </div>
                        <div class="setting-item">
                             <label class="flex items-center gap-2 cursor-pointer pt-6"><input type="checkbox" id="no-sponsorblock" name="no-sponsorblock" class="checkbox-style"> Disable SponsorBlock</label>
                        </div>
                    </div>
                </section>

                <section class="card p-6">
                    <h2 class="text-xl font-semibold mb-6 border-b border-[var(--border-light)] dark:border-[var(--border-dark)] pb-3">Extractor Options</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                        <div class="setting-item">
                            <label for="extractor-retries" class="font-medium">Extractor Retries</label>
                            <input type="text" id="extractor-retries" name="extractor-retries" class="input-form mt-1" placeholder="3 or infinite">
                            <p class="setting-description">Number of retries for known extractor errors.</p>
                        </div>
                        <div class="setting-item">
                            <label for="extractor-args" class="font-medium">Extractor Arguments</label>
                            <input type="text" id="extractor-args" name="extractor-args" class="input-form mt-1" placeholder="youtube:player_client=android">
                            <p class="setting-description">Pass arguments to a specific extractor (IE_KEY:ARGS).</p>
                        </div>
                        <div class="setting-item col-span-1 md:col-span-2">
                             <div class="flex items-center space-x-8">
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" id="ignore-dynamic-mpd" name="ignore-dynamic-mpd" class="checkbox-style"> Ignore Dynamic DASH Manifests</label>
                                <label class="flex items-center gap-2 cursor-pointer"><input type="checkbox" id="hls-split-discontinuity" name="hls-split-discontinuity" class="checkbox-style"> Split HLS at Discontinuity</label>
                            </div>
                        </div>
                    </div>
                </section>

                <div class="flex justify-end pt-4">
                    <button type="button" id="save-settings-btn" class="btn btn-primary px-8 py-3 text-base">Save All Settings</button>
                </div>
            </form>
        </div>
    </main>

    <div id="notification-container"></div>
    
    <script src="script.js"></script>
    </body>
</html>